<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet" type="text/css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>

  <style type="text/css">
  	h5{
  		color: deepskyblue;
  	}
  	  .form-control{
        border:none;
        border-bottom: 2px solid green;
        border-radius: 0px;
        width: 300px !important;
    }
    .form-control:focus {
  border-color: deepskyblue;
  box-shadow: none;
    }

    .input-group-text{
      background: none; 
      border: none;
      color: deepskyblue;
    }

  </style>
  
</head>
<body>
<% include template/login_navbar.ejs %>

<div class="container mt-3">
  <h2> <%= data[0].first_name+' '+data[0].last_name %></h2>
  <br>
  <!-- Nav tabs -->
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link active" data-toggle="tab" href="#home">My Profile</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#menu1">Edit Profile</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#menu2">My Image</a>
    </li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div id="home" class="container tab-pane active"><br>
      <h5>First Name</h5><p> <%= data[0].first_name %></p>
      <h5>Last Name</h5><p> <%= data[0].last_name %></p>
      <h5>User Name</h5><p> <%= data[0].username %></p>
      <h5>Email</h5><p> <%= data[0].email %></p>
      <h5>Phone</h5><p> <%= data[0].mobile %></p>
      <h5>Address</h5><p> <%= data[0].address %></p>
      <h5>Postal Code</h5><p> <%= data[0].postal_code %></p>
      <h5>Date Of Birth</h5><p> <%= data[0].date_of_birth %></p>
    </div>
    <div id="menu1" class="container tab-pane fade"><br>
    	<form method="post" action="/users/update">
     <div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-default">First Name</span>
  </div>
  <input type="text" class="form-control" value="<%= data[0].first_name%>" aria-label="Default" aria-describedby="inputGroup-sizing-default" name="firstname">
</div>
  <div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-default">Last Name</span>
  </div>
  <input type="text" class="form-control" value="<%= data[0].last_name%>" aria-label="Default" aria-describedby="inputGroup-sizing-default" name="lastname">
</div>
  <div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-default">Mobile</span>
  </div>
  <input type="text" class="form-control" value="<%= data[0].mobile%>" aria-label="Default" aria-describedby="inputGroup-sizing-default" name="mobile">
</div>
  <div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-default">Address</span>
  </div>
  <input type="text" class="form-control" value="<%= data[0].address %>" aria-label="Default" aria-describedby="inputGroup-sizing-default" name="address">
</div>
<div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-default">Postal Code</span>
  </div>
  <input type="text" class="form-control" value="<%= data[0].postal_code %>" aria-label="Default" aria-describedby="inputGroup-sizing-default" name="postalcode">
</div>
<div id="datepicker" class="input-group date">
	<span class="input-group-text" id="inputGroup-sizing-default">Date Of Birth</span>
    <input class="form-control" value="<%= data[0].date_of_birth %>" style="background: none;" type="text" name="dob" readonly />
    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
</div>
<button class="btn btn-success" type="submit">Update</button>
</form>
    </div>
    <div id="menu2" class="container tab-pane fade"><br>
    	
    	<img class="img-responsive" src="<%= imgurl %>uploads/<%= data[0].image %>" height="100">

    	<form action="/users/upload" method="POST" enctype="multipart/form-data">
      <input type="file" name="myImage">
      <button type="submit">Save</button>
  </form>
    </div>
  </div>
</div>
<script type="text/javascript">
	$(function () {
  $("#datepicker").datepicker({ 
        autoclose: true, 
        todayHighlight: true,
        format: 'yyyy/mm/dd'
  }).datepicker('update', new Date());
});

</script>
</body>
</html>
